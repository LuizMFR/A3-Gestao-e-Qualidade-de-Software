<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane prefHeight="720" prefWidth="1200" styleClass="app-bg" stylesheets="@../css/styles.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.cliente.controllers.HomeController">

    <children>
        <!-- Janela com bordas arredondadas -->
        <BorderPane fx:id="root" maxHeight="660" maxWidth="1120" prefHeight="660" prefWidth="1120" styleClass="app-card">

            <!-- APP BAR (TOPO) -->
            <top>
                <HBox spacing="12" styleClass="appbar" BorderPane.alignment="CENTER_LEFT">
                    <padding><Insets bottom="10" left="14" right="14" top="10" /></padding>
                    <children>
                        <!-- LOGO -->
                        <ImageView fitHeight="74" fitWidth="71" preserveRatio="true">
                           <image>
                              <Image url="@logo.png" />
                           </image>
                        </ImageView>

                        

                        <Pane HBox.hgrow="ALWAYS" />
                        <Button onAction="#sair" styleClass="btn-danger" text="Sair" />
                    </children>
                </HBox>
            </top>

            <!-- MENU LATERAL -->
            <left>
                <VBox prefWidth="240" spacing="10" BorderPane.alignment="CENTER_LEFT">
                    <padding><Insets bottom="8" left="8" right="8" top="8" /></padding>
                    <children>
                        <VBox spacing="8" styleClass="menu-card">
                            <Label styleClass="menu-section" text="Navegação" />
                            <Button onAction="#navDashboard" styleClass="btn-ghost" text="Dashboard" />
                            <Button onAction="#navTransacoes" styleClass="btn-ghost" text="Transações" />
                            <Button onAction="#navCategorias" styleClass="btn-ghost" text="Categorias" />
                            <Button onAction="#navRelatorios" styleClass="btn-ghost" text="Relatórios" />
                            <Button onAction="#navPerfil" styleClass="btn-ghost" text="Perfil" />
                        </VBox>
                    </children>
                </VBox>
            </left>

            <!-- CONTEÚDO CENTRAL -->
            <center>
                <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
                    <content>
                        <VBox prefWidth="800" spacing="16">
                            <padding><Insets bottom="16" left="8" right="8" top="12" /></padding>

                            <children>
                                <Label styleClass="section-title" text="Visão Geral" />

                                <!-- CARDS -->
                                <HBox spacing="12">
                                    <children>
                                        <VBox spacing="6" styleClass="card" HBox.hgrow="ALWAYS">
                                            <Label styleClass="muted" text="Saldo Atual" />
                                            <Label fx:id="lblSaldo" styleClass="kpi-default" text="R$ 0,00" />
                                        </VBox>

                                        <VBox id="valorReceitas" fx:id="valorReceitas" spacing="6" styleClass="card" HBox.hgrow="ALWAYS">
                                            <Label styleClass="muted" text="Receitas (mês)" />
                                            <Label fx:id="lblReceitasMes" styleClass="kpi-green" text="R$ 0,00" />
                                        </VBox>

                                        <VBox spacing="6" styleClass="card" HBox.hgrow="ALWAYS">
                                            <Label styleClass="muted" text="Gastos (mês)" />
                                            <Label fx:id="lblGastosMes" styleClass="kpi-red" text="R$ 0,00" />
                                        </VBox>
                                    </children>
                                </HBox>

                                <!-- TABELA -->
                                <VBox spacing="8" styleClass="card">
                                    <Label styleClass="card-title" text="Transações Recentes" />
                                    <TableView fx:id="tblTransacoes" prefHeight="280">
                                        <columns>
                                            <TableColumn fx:id="colData" prefWidth="120" text="Data" />
                                            <TableColumn fx:id="colDescricao" prefWidth="200" text="Descrição" />
                                            <TableColumn fx:id="colCategoria" prefWidth="160" text="Categoria" />
                                            <TableColumn fx:id="colTipo" prefWidth="100" text="Tipo" />
                                            <TableColumn fx:id="colValor" prefWidth="120.20013427734375" text="Valor" />
                                            <TableColumn fx:id="tablecolAcoes" prefWidth="100" text="Ações" />
                                        </columns>
                                    </TableView>
                                    <HBox alignment="CENTER_RIGHT" spacing="8">
                                        <children>
                                            <Button onAction="#novaTransacao" styleClass="btn-primary" text="+ Adicionar" />
                                        </children>
                                    </HBox>
                                </VBox>
                            </children>
                        </VBox>
                    </content>
                </ScrollPane>
            </center>

        </BorderPane>
    </children>
</StackPane>
